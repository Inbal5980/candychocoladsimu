<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>×Ö·×¢Ö°×‘Ö¶Ö¼×“Ö¶×ª ×”Ö·×©Ö¼××•Ö¹×§×•Ö¹×œÖ¸×“ - ×Ö´×¤Ö°×¢Ö·×œ ×”Ö·×Ö·Ö¼×Ö°×ªÖ·Ö¼×§Ö´Ö¼×™×</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #8B4513 0%, #D2691E 50%, #CD853F 100%);
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2vmin;
            overflow: hidden; /* ××•× ×¢ ×’×œ×™×œ×” ×›×“×™ ×œ×©××•×¨ ×¢×œ ×™×—×¡ ××¡×š */
        }

        .container {
            background: rgba(255, 248, 220, 0.95);
            border-radius: 20px;
            padding: 3vmin;
            width: 100%;
            height: 100%;
            max-width: 177.78vh; /* ×©×•××¨ ×¢×œ ×™×—×¡ 16:9 ×‘×™×—×¡ ×œ×’×•×‘×” */
            max-height: 56.25vw; /* ×©×•××¨ ×¢×œ ×™×—×¡ 16:9 ×‘×™×—×¡ ×œ×¨×•×—×‘ */
            aspect-ratio: 16/9;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1vmin solid #8B4513;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .header {
            text-align: center;
            height: 10%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header h1 {
            color: #8B4513;
            font-size: 4vmin;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .content-wrapper {
            display: flex;
            height: 75%;
            gap: 2vmin;
        }

        .story-side {
            width: 30%;
            display: flex;
            flex-direction: column;
            gap: 2vmin;
        }

        .lab-side {
            width: 70%;
            display: flex;
            flex-direction: column;
            gap: 2vmin;
        }

        .story-box {
            background: linear-gradient(135deg, #FFE4B5 0%, #FFDAB9 100%);
            border: 0.5vmin solid #D2691E;
            border-radius: 15px;
            padding: 2vmin;
            font-size: 2.2vmin;
            line-height: 1.6;
            color: #4B2C20;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: 2vmin;
            margin-top: auto;
        }

        .lab-container {
            background: linear-gradient(135deg, #F5DEB3 0%, #DEB887 100%);
            border: 0.8vmin solid #8B4513;
            border-radius: 20px;
            padding: 2vmin;
            position: relative;
            box-shadow: inset 0 5px 15px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2vmin;
        }

        .counter-display {
            font-size: 3.5vmin;
            color: #8B4513;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.7);
            padding: 1vmin 3vmin;
            border-radius: 10px;
            border: 0.4vmin solid #D2691E;
        }

        .equation-display {
            font-size: 3.5vmin;
            color: #4B2C20;
            padding: 1vmin 3vmin;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            border: 0.4vmin dashed #D2691E;
            font-weight: bold;
        }

        .chocolate-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-content: flex-start;
            gap: 1.5vmin;
            padding: 2vmin;
            flex-grow: 1;
            overflow-y: auto;
        }

        .chocolate-cube {
            width: 7vmin;
            height: 7vmin;
            background: linear-gradient(135deg, #6F4E37 0%, #3E2723 100%);
            border-radius: 1vmin;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4vmin;
            animation: fallIn 0.5s ease-out;
            box-shadow: 0 0.5vmin 1vmin rgba(0, 0, 0, 0.3);
            border: 0.3vmin solid #4B2C20;
            position: relative;
        }

        .chocolate-cube::before {
            content: '';
            position: absolute;
            top: 0.5vmin;
            left: 0.5vmin;
            right: 0.5vmin;
            height: 1.5vmin;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 0.5vmin;
        }

        .new-chocolate {
            animation: newChocolate 0.5s ease-out;
            border-color: #FFD700; /* ×–×”×‘ ×œ×§×•×‘×™×•×ª ×—×“×©×•×ª */
        }

        @keyframes fallIn {
            from { transform: translateY(-50px) rotate(180deg); opacity: 0; }
            to { transform: translateY(0) rotate(0); opacity: 1; }
        }

        @keyframes newChocolate {
            0% { transform: scale(0) rotate(0deg); opacity: 0; }
            50% { transform: scale(1.3) rotate(180deg); }
            100% { transform: scale(1) rotate(360deg); opacity: 1; }
        }

        .btn {
            padding: 1.5vmin;
            font-size: 2.5vmin;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 0.5vmin 1vmin rgba(0, 0, 0, 0.2);
            font-family: 'Arial', sans-serif;
            width: 100%;
        }

        .btn-add {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
            color: white;
            border: 0.3vmin solid #654321;
        }

        .btn-add:hover:not(:disabled) {
            background: linear-gradient(135deg, #A0522D 0%, #8B4513 100%);
            transform: translateY(-0.3vmin);
        }

        .btn-reset {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF5252 100%);
            color: white;
            border: 0.3vmin solid #CC0000;
        }

        .btn-reset:hover {
            background: linear-gradient(135deg, #FF5252 0%, #FF6B6B 100%);
            transform: translateY(-0.3vmin);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            background: #ccc;
            border-color: #999;
            transform: none;
        }

        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 15vmin;
            animation: celebrate 1s ease-out;
            pointer-events: none;
            z-index: 1000;
        }

        @keyframes celebrate {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.5); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }

        .professor-message {
            text-align: center;
            font-size: 2vmin;
            color: #8B4513;
            height: 10%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            font-weight: bold;
            margin-top: 1vmin;
        }

        .progress-indicator {
            text-align: center;
            font-size: 2vmin;
            margin-top: 0.5vmin;
            color: #4B2C20;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ« ×Ö·×¢Ö°×‘Ö¶Ö¼×“Ö¶×ª ×”Ö·×©Ö¼××•Ö¹×§×•Ö¹×œÖ¸×“ ğŸ«</h1>
        </div>

        <div class="content-wrapper">
            <div class="story-side">
                <div class="story-box">
                    ×‘Ö°Ö¼×Ö·×¢Ö°×‘Ö¶Ö¼×“Ö¶×ª ×”Ö·×©Ö¼××•Ö¹×§×•Ö¹×œÖ¸×“ ×”Ö´×ªÖ°×—Ö´×™×œ ×”Ö·× Ö´Ö¼×¡Ö¼×•Ö¼×™ ×¢Ö´× <strong>12 ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª</strong>. 
                    <br><br>
                    ×”Ö·×¤Ö°Ö¼×¨×•Ö¹×¤Öµ×¡×•Ö¹×¨ ×Ö°×‘Ö·×§ÖµÖ¼×©× ×œÖ°×”×•Ö¹×¡Ö´×™×£ ×¢×•Ö¹×“ <strong>5 ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª</strong>, ×Ö·×—Ö·×ª ×Ö·×—Ö·×ª.
                    <br><br>
                    ğŸ¤” <strong>×›Ö·Ö¼×Ö¸Ö¼×” ×™Ö´×”Ö°×™×•Ö¼ ×‘Ö·Ö¼×¡Ö¼×•Ö¹×£?</strong>
                </div>

                <div class="controls">
                    <div>
                        <button class="btn btn-add" id="addBtn" onclick="addOneChocolate()">
                            â• ×”×•Ö¹×¡Öµ×£ ×§Ö»×‘Ö´Ö¼×™Ö¸Ö¼×” ×Ö·×—Ö·×ª
                        </button>
                        <div class="progress-indicator" id="progressText">
                            ×”×•Ö¹×¡Ö·×¤Ö°×ªÖ¸Ö¼ 0 ×Ö´×ªÖ¼×•Ö¹×šÖ° 5 ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª
                        </div>
                    </div>
                    <button class="btn btn-reset" onclick="reset()">
                        ğŸ”„ ×”Ö·×ªÖ°×—Öµ×œ ×Öµ×—Ö¸×“Ö¸×©×
                    </button>
                </div>
            </div>

            <div class="lab-side">
                <div class="lab-container">
                    <div class="top-bar">
                        <div class="counter-display">
                            ×¡Ö·×”Ö·"×›Ö¼: <span id="counter">12</span> ğŸ«
                        </div>
                        <div class="equation-display" id="equation">
                            12 + <span id="addedCount">0</span> = ?
                        </div>
                    </div>

                    <div class="chocolate-grid" id="chocolateGrid"></div>
                </div>
            </div>
        </div>

        <div class="professor-message" id="message">
            ğŸ‘¨â€ğŸ”¬ ×§Ö¸×“Ö´×™×Ö¸×”! ×œÖ·×—Ö²×¦×•Ö¼ ×¢Ö·×œ ×”Ö·×›Ö·Ö¼×¤Ö°×ªÖ¼×•Ö¹×¨ ×›Ö°Ö¼×“Öµ×™ ×œÖ°×”×•Ö¹×¡Ö´×™×£ ×Ö¶×ª ×”Ö·×§Ö»Ö¼×‘Ö´Ö¼×™Ö¸Ö¼×” ×”Ö¸×¨Ö´××©××•Ö¹× Ö¸×”!
        </div>
    </div>

    <script>
        let baseCount = 12;
        let currentAdded = 0;
        const targetAdded = 5;

        function createChocolate(isNew = false) {
            const cube = document.createElement('div');
            cube.className = 'chocolate-cube' + (isNew ? ' new-chocolate' : '');
            cube.textContent = 'ğŸ«';
            return cube;
        }

        function initializeChocolates() {
            const grid = document.getElementById('chocolateGrid');
            grid.innerHTML = '';
            for (let i = 0; i < baseCount; i++) {
                grid.appendChild(createChocolate());
            }
            // ×”×•×¡×¤×ª ×”×§×•×‘×™×•×ª ×”×—×“×©×•×ª ×× ×™×© (×‘××§×¨×” ×©×œ ×¨×¢× ×•×Ÿ)
            for (let i = 0; i < currentAdded; i++) {
                grid.appendChild(createChocolate(true));
            }
        }

        function addOneChocolate() {
            if (currentAdded >= targetAdded) return;

            currentAdded++;
            
            // ×¢×“×›×•×Ÿ ×”×××©×§
            const grid = document.getElementById('chocolateGrid');
            const counter = document.getElementById('counter');
            const equationAdded = document.getElementById('addedCount');
            const equation = document.getElementById('equation');
            const message = document.getElementById('message');
            const progressText = document.getElementById('progressText');
            const addBtn = document.getElementById('addBtn');

            // ×”×•×¡×¤×ª ×§×•×‘×™×”
            grid.appendChild(createChocolate(true));
            
            // ×¢×“×›×•×Ÿ ××¡×¤×¨×™×
            counter.textContent = baseCount + currentAdded;
            equationAdded.textContent = currentAdded;
            progressText.textContent = `×”×•Ö¹×¡Ö·×¤Ö°×ªÖ¸Ö¼ ${currentAdded} ×Ö´×ªÖ¼×•Ö¹×šÖ° ${targetAdded} ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª`;

            // ×‘×“×™×§×ª ×¡×™×•×
            if (currentAdded === targetAdded) {
                equation.innerHTML = `12 + 5 = <strong>17</strong>`;
                message.innerHTML = 'ğŸ‰ ×›Ö¸Ö¼×œ ×”Ö·×›Ö¸Ö¼×‘×•Ö¹×“! ×”Ö´×’Ö·Ö¼×¢Ö°×ªÖ¶Ö¼× ×œ-17 ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª! ğŸ‰';
                addBtn.disabled = true;
                addBtn.textContent = 'âœ… ×”Ö·× Ö´Ö¼×¡Ö¼×•Ö¼×™ ×”Ö»×©Ö°××œÖ·×';
                showCelebration();
            } else {
                message.textContent = `ğŸ‘¨â€ğŸ”¬ ×Ö°×¦Ö»×™Ö¸Ö¼×Ÿ! ×™Öµ×©× ×œÖ¸× ×•Ö¼ ×¢Ö·×›Ö°×©Ö¸××• ${baseCount + currentAdded}. ×ªÖ·Ö¼×Ö°×©Ö´××™×›×•Ö¼!`;
            }
        }

        function showCelebration() {
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            celebration.textContent = 'ğŸŠ';
            document.body.appendChild(celebration);
            setTimeout(() => celebration.remove(), 1000);
        }

        function reset() {
            currentAdded = 0;
            document.getElementById('counter').textContent = '12';
            document.getElementById('addedCount').textContent = '0';
            document.getElementById('equation').innerHTML = '12 + <span id="addedCount">0</span> = ?';
            document.getElementById('message').innerHTML = 'ğŸ‘¨â€ğŸ”¬ ×§Ö¸×“Ö´×™×Ö¸×”! ×œÖ·×—Ö²×¦×•Ö¼ ×¢Ö·×œ ×”Ö·×›Ö·Ö¼×¤Ö°×ªÖ¼×•Ö¹×¨ ×›Ö°Ö¼×“Öµ×™ ×œÖ°×”×•Ö¹×¡Ö´×™×£ ×Ö¶×ª ×”Ö·×§Ö»Ö¼×‘Ö´Ö¼×™Ö¸Ö¼×” ×”Ö¸×¨Ö´××©××•Ö¹× Ö¸×”!';
            document.getElementById('progressText').textContent = '×”×•Ö¹×¡Ö·×¤Ö°×ªÖ¸Ö¼ 0 ×Ö´×ªÖ¼×•Ö¹×šÖ° 5 ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª';
            
            const addBtn = document.getElementById('addBtn');
            addBtn.disabled = false;
            addBtn.textContent = 'â• ×”×•Ö¹×¡Öµ×£ ×§Ö»×‘Ö´Ö¼×™Ö¸Ö¼×” ×Ö·×—Ö·×ª';
            
            initializeChocolates();
        }

        window.onload = initializeChocolates;
    </script>
</body>
</html>
