<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>×Ö·×¢Ö°×‘Ö¶Ö¼×“Ö¶×ª ×”Ö·×©Ö¼××•Ö¹×§×•Ö¹×œÖ¸×“ - ×Ö´×¤Ö°×¢Ö·×œ ×”Ö·×Ö·Ö¼×Ö°×ªÖ·Ö¼×§Ö´Ö¼×™×</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #8B4513 0%, #D2691E 50%, #CD853F 100%);
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2vmin;
            overflow: hidden;
        }

        .container {
            background: rgba(255, 248, 220, 0.95);
            border-radius: 20px;
            padding: 3vmin;
            width: 100%;
            height: 100%;
            max-width: 177.78vh;
            max-height: 56.25vw;
            aspect-ratio: 16/9;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1vmin solid #8B4513;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .header {
            text-align: center;
            height: 10%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header h1 {
            color: #8B4513;
            font-size: 4vmin;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .content-wrapper {
            display: flex;
            height: 75%;
            gap: 2vmin;
        }

        .story-side {
            width: 30%;
            display: flex;
            flex-direction: column;
            gap: 2vmin;
        }

        .lab-side {
            width: 70%;
            display: flex;
            flex-direction: column;
            gap: 2vmin;
        }

        .story-box {
            background: linear-gradient(135deg, #FFE4B5 0%, #FFDAB9 100%);
            border: 0.5vmin solid #D2691E;
            border-radius: 15px;
            padding: 2vmin;
            font-size: 2.2vmin;
            line-height: 1.6;
            color: #4B2C20;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: 2vmin;
            margin-top: auto;
        }

        .lab-container {
            background: linear-gradient(135deg, #F5DEB3 0%, #DEB887 100%);
            border: 0.8vmin solid #8B4513;
            border-radius: 20px;
            padding: 2vmin;
            position: relative;
            box-shadow: inset 0 5px 15px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2vmin;
        }

        .counter-display {
            font-size: 3.5vmin;
            color: #8B4513;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.7);
            padding: 1vmin 3vmin;
            border-radius: 10px;
            border: 0.4vmin solid #D2691E;
        }

        .equation-display {
            font-size: 3.5vmin;
            color: #4B2C20;
            padding: 1vmin 3vmin;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            border: 0.4vmin dashed #D2691E;
            font-weight: bold;
            direction: ltr;
        }

        .chocolate-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-content: flex-start;
            gap: 1.5vmin;
            padding: 2vmin;
            flex-grow: 1;
            overflow-y: auto;
            position: relative;
        }

        .chocolate-cube {
            width: 7vmin;
            height: 7vmin;
            background: linear-gradient(135deg, #6F4E37 0%, #3E2723 100%);
            border-radius: 1vmin;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4vmin;
            animation: fallIn 0.5s ease-out;
            box-shadow: 0 0.5vmin 1vmin rgba(0, 0, 0, 0.3);
            border: 0.3vmin solid #4B2C20;
            position: relative;
        }

        .chocolate-cube::before {
            content: '';
            position: absolute;
            top: 0.5vmin;
            left: 0.5vmin;
            right: 0.5vmin;
            height: 1.5vmin;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 0.5vmin;
        }

        .melting-chocolate {
            animation: meltAnimation 1s ease-out forwards;
        }

        @keyframes fallIn {
            from { transform: translateY(-50px) rotate(180deg); opacity: 0; }
            to { transform: translateY(0) rotate(0); opacity: 1; }
        }

        @keyframes meltAnimation {
            0% {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
            50% {
                transform: scale(0.8) translateY(2vmin);
                opacity: 0.7;
                filter: blur(1px);
            }
            100% {
                transform: scale(0.3) translateY(5vmin);
                opacity: 0;
            }
        }

        .melted-puddle {
            position: absolute;
            bottom: 1vmin;
            width: 15vmin;
            height: 8vmin;
            background: radial-gradient(ellipse at center, #6F4E37 0%, #4B2C20 50%, transparent 80%);
            border-radius: 50%;
            opacity: 0;
            animation: puddleAppear 0.8s ease-out 0.8s forwards;
        }

        @keyframes puddleAppear {
            0% { opacity: 0; transform: scale(0.5); }
            100% { opacity: 0.6; transform: scale(1); }
        }

        .btn {
            padding: 1.5vmin;
            font-size: 2.5vmin;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 0.5vmin 1vmin rgba(0, 0, 0, 0.2);
            font-family: 'Arial', sans-serif;
            width: 100%;
        }

        .btn-melt {
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            color: white;
            border: 0.3vmin solid #CC5500;
        }

        .btn-melt:hover:not(:disabled) {
            background: linear-gradient(135deg, #F7931E 0%, #FF6B35 100%);
            transform: translateY(-0.3vmin);
        }

        .btn-reset {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF5252 100%);
            color: white;
            border: 0.3vmin solid #CC0000;
        }

        .btn-reset:hover {
            background: linear-gradient(135deg, #FF5252 0%, #FF6B6B 100%);
            transform: translateY(-0.3vmin);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            background: #ccc;
            border-color: #999;
            transform: none;
        }

        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 15vmin;
            animation: celebrate 1s ease-out;
            pointer-events: none;
            z-index: 1000;
        }

        @keyframes celebrate {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.5); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }

        .professor-message {
            text-align: center;
            font-size: 2vmin;
            color: #8B4513;
            height: 10%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            font-weight: bold;
            margin-top: 1vmin;
        }

        .progress-indicator {
            text-align: center;
            font-size: 2vmin;
            margin-top: 0.5vmin;
            color: #4B2C20;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ« ×Ö·×¢Ö°×‘Ö¶Ö¼×“Ö¶×ª ×”Ö·×©Ö¼××•Ö¹×§×•Ö¹×œÖ¸×“ ğŸ«</h1>
        </div>

        <div class="content-wrapper">
            <div class="story-side">
                <div class="story-box">
                    ×‘Ö°Ö¼×Ö·×¢Ö°×‘Ö¶Ö¼×“Ö¶×ª ×”Ö·×©Ö¼××•Ö¹×§×•Ö¹×œÖ¸×“ ×”Ö´×ªÖ°×—Ö´×™×œ ×”Ö·× Ö´Ö¼×¡Ö¼×•Ö¼×™ ×¢Ö´× <strong>12 ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª</strong>. 
                    <br><br>
                    ××•Ö¹×™ ×œÖ¹×! ğŸ˜± <strong>5 ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª × Ö¸×Ö·×¡Ö¼×•Ö¼</strong> ×¢Ö·×œ ×”Ö¸×¨Ö´×¦Ö°×¤Ö¸Ö¼×”, ×Ö·×—Ö·×ª ×Ö·×—Ö·×ª!
                    <br><br>
                    ğŸ¤” <strong>×›Ö·Ö¼×Ö¸Ö¼×” × Ö´×©Ö°××Ö²×¨×•Ö¼?</strong>
                </div>

                <div class="controls">
                    <div>
                        <button class="btn btn-melt" id="meltBtn" onclick="meltOneChocolate()">
                            ğŸ’§ ×”Ö·×ÖµÖ¼×¡ ×§Ö»×‘Ö´Ö¼×™Ö¸Ö¼×” ×Ö·×—Ö·×ª
                        </button>
                        <div class="progress-indicator" id="progressText">
                            × Ö¸×Ö·×¡Ö¼×•Ö¼ 0 ×Ö´×ªÖ¼×•Ö¹×šÖ° 5 ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª
                        </div>
                    </div>
                    <button class="btn btn-reset" onclick="reset()">
                        ğŸ”„ ×”Ö·×ªÖ°×—Öµ×œ ×Öµ×—Ö¸×“Ö¸×©×
                    </button>
                </div>
            </div>

            <div class="lab-side">
                <div class="lab-container">
                    <div class="top-bar">
                        <div class="counter-display">
                            ×¡Ö·×”Ö·"×›Ö¼: <span id="counter">12</span> ğŸ«
                        </div>
                        <div class="equation-display" id="equation">
                            12 - <span id="meltedCount">0</span> = ?
                        </div>
                    </div>

                    <div class="chocolate-grid" id="chocolateGrid"></div>
                </div>
            </div>
        </div>

        <div class="professor-message" id="message">
            ğŸ‘¨â€ğŸ”¬ ××•Ö¹×™ ×œÖ¹×! ×œÖ·×—Ö²×¦×•Ö¼ ×¢Ö·×œ ×”Ö·×›Ö·Ö¼×¤Ö°×ªÖ¼×•Ö¹×¨ ×œÖ´×¨Ö°××•Ö¹×ª ×Öµ×™×šÖ° ×§Ö»×‘Ö´Ö¼×™Ö¸Ö¼×” × Ö¸×Öµ×¡Ö¸×”!
        </div>
    </div>

    <script>
        let baseCount = 12;
        let currentMelted = 0;
        const targetMelted = 5;
        let chocolateCubes = [];

        function createChocolate() {
            const cube = document.createElement('div');
            cube.className = 'chocolate-cube';
            cube.textContent = 'ğŸ«';
            return cube;
        }

        function initializeChocolates() {
            const grid = document.getElementById('chocolateGrid');
            grid.innerHTML = '';
            chocolateCubes = [];
            
            const remaining = baseCount - currentMelted;
            for (let i = 0; i < remaining; i++) {
                const cube = createChocolate();
                grid.appendChild(cube);
                chocolateCubes.push(cube);
            }
            
            // ×”×•×¡×¤×ª ×©×œ×•×œ×™×•×ª ×©×•×§×•×œ×“ ××•××¡
            for (let i = 0; i < currentMelted; i++) {
                const puddle = document.createElement('div');
                puddle.className = 'melted-puddle';
                puddle.style.left = `${10 + (i * 16)}%`;
                grid.appendChild(puddle);
            }
        }

        function meltOneChocolate() {
            if (currentMelted >= targetMelted || chocolateCubes.length === 0) return;

            // ×‘×—×™×¨×ª ×§×•×‘×™×” ××§×¨××™×ª ×œ×”××¡×”
            const randomIndex = Math.floor(Math.random() * chocolateCubes.length);
            const cubeToMelt = chocolateCubes[randomIndex];
            
            // ×”×•×¡×¤×ª ×× ×™××¦×™×™×ª ×”××¡×”
            cubeToMelt.classList.add('melting-chocolate');
            
            // ×”×¡×¨×ª ×”×§×•×‘×™×” ××”××¢×¨×š
            chocolateCubes.splice(randomIndex, 1);
            
            currentMelted++;
            
            // ×¢×“×›×•×Ÿ ×”×××©×§
            const counter = document.getElementById('counter');
            const equationMelted = document.getElementById('meltedCount');
            const equation = document.getElementById('equation');
            const message = document.getElementById('message');
            const progressText = document.getElementById('progressText');
            const meltBtn = document.getElementById('meltBtn');

            // ×¢×“×›×•×Ÿ ××¡×¤×¨×™×
            const remaining = baseCount - currentMelted;
            counter.textContent = remaining;
            equationMelted.textContent = currentMelted;
            progressText.textContent = `× Ö¸×Ö·×¡Ö¼×•Ö¼ ${currentMelted} ×Ö´×ªÖ¼×•Ö¹×šÖ° ${targetMelted} ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª`;

            // ×”×•×¡×¤×ª ×©×œ×•×œ×™×ª ××—×¨×™ 0.8 ×©× ×™×•×ª
            setTimeout(() => {
                const grid = document.getElementById('chocolateGrid');
                const puddle = document.createElement('div');
                puddle.className = 'melted-puddle';
                puddle.style.left = `${10 + ((currentMelted - 1) * 16)}%`;
                grid.appendChild(puddle);
                
                // ×”×¡×¨×ª ×”×§×•×‘×™×” ×”× ××¡×”
                cubeToMelt.remove();
            }, 800);

            // ×‘×“×™×§×ª ×¡×™×•×
            if (currentMelted === targetMelted) {
                equation.innerHTML = `12 - 5 = <strong>7</strong>`;
                message.innerHTML = 'ğŸ‰ × Ö¸×›×•Ö¹×Ÿ! × Ö´×©Ö°××Ö²×¨×•Ö¼ 7 ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª ×©××•Ö¹×§×•Ö¹×œÖ¸×“! ğŸ‰';
                meltBtn.disabled = true;
                meltBtn.textContent = 'âœ… ×”Ö·× Ö´Ö¼×¡Ö¼×•Ö¼×™ ×”Ö»×©Ö°××œÖ·×';
                showCelebration();
            } else {
                message.textContent = `ğŸ‘¨â€ğŸ”¬ ××•Ö¹×™! × Ö´×©Ö°××Ö²×¨×•Ö¼ ${remaining} ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª. ×”Ö·×Ö°×©Ö´××™×›×•Ö¼!`;
            }
        }

        function showCelebration() {
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            celebration.textContent = 'ğŸŠ';
            document.body.appendChild(celebration);
            setTimeout(() => celebration.remove(), 1000);
        }

        function reset() {
            currentMelted = 0;
            document.getElementById('counter').textContent = '12';
            document.getElementById('meltedCount').textContent = '0';
            document.getElementById('equation').innerHTML = '12 - <span id="meltedCount">0</span> = ?';
            document.getElementById('message').innerHTML = 'ğŸ‘¨â€ğŸ”¬ ××•Ö¹×™ ×œÖ¹×! ×œÖ·×—Ö²×¦×•Ö¼ ×¢Ö·×œ ×”Ö·×›Ö·Ö¼×¤Ö°×ªÖ¼×•Ö¹×¨ ×œÖ´×¨Ö°××•Ö¹×ª ×Öµ×™×šÖ° ×§Ö»×‘Ö´Ö¼×™Ö¸Ö¼×” × Ö¸×Öµ×¡Ö¸×”!';
            document.getElementById('progressText').textContent = '× Ö¸×Ö·×¡Ö¼×•Ö¼ 0 ×Ö´×ªÖ¼×•Ö¹×šÖ° 5 ×§Ö»×‘Ö´Ö¼×™Ö¼×•Ö¹×ª';
            
            const meltBtn = document.getElementById('meltBtn');
            meltBtn.disabled = false;
            meltBtn.textContent = 'ğŸ’§ ×”Ö·×ÖµÖ¼×¡ ×§Ö»×‘Ö´Ö¼×™Ö¸Ö¼×” ×Ö·×—Ö·×ª';
            
            initializeChocolates();
        }

        window.onload = initializeChocolates;
    </script>
</body>
</html>
